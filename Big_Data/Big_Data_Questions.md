# 海量数据热门算法题

## 从40亿中产生一个不存在的整数
题目：给定一个输入文件，包含40亿个非负整数，设计一个算法产生一个不存在该文件中的
整数，只给1GB的内存。<br>
进阶：只有10MB的内存怎么办？<br>
1. 采用位方式（位图bitmap）来存储
申请一个长度为4 294 967 295的bit类型的数组bitArr，bitArr的每个位置可以表示0/1状态。
8个bit为1B，最后只会占用500MB的空间。遍历40亿个数，并把对应的位置的值设为1。例如遇到100，
把bitArr[100]设为1。遍历完成后再遍历bitArr，看哪个位置的值是0就是没出现过的数。

2. 分块思想
平均分为64个区间。第一次遍历申请长度为64的整型数组countArr（每个区间67108864个数），countArr[i]用来统计区间i上的数
有多少。先遍历40亿个数，根据当前数是多少来决定哪一个区间上的计数增加。假如当前数是3422552090，
3422552090 / 67108864 = 51，所以让第51个区间++。查看哪个区间的计数少于67108864，并且对40亿
个数进行第二次遍历。假设这个区间是第31区间，这次遍历只关心第31区间上的数，假如这个数在第31区间上，就将
bitArr[num - 67108864*37]的值设为1。遍历完40个亿数后，在bitArr上没有被设成1的位置，也就是第i位。
6710886437+i就是没出现过的数

## 用2GB内存在20亿个整数中找到出现次数最多的数
要求：内存限制为2GB<br>
把包含20亿个数的大文件用哈希函数分成16个小文件，并且统计。这时候就会统计16个小文件中每个数出现最多的次数。
只需要找出16个数中最大的就可以。

## 从100亿个URL中查找
题目：在一个包含100亿个URL的大文件，假设每个URL占用64B，找出其中所有重复的URL<br>
用哈希分流的思路来处理。把100亿个字节的大文件通过哈希函数分配到100台机器上，然后分别统计是否有重复的URL。

## 40亿个非负整数中找到出现两次的数
要求：32位无符号整数的范围是0～4294967295，用最多1GB的内存找出所有出现了两次的数<br>
用bitmap来表示数出现的情况，申请一个长度为4294967295x2的bit类型的数组bitArr，用2个位置表示
一个数出现的词频。遍历40亿个数，如果初次遇到num，就把bitArr[num*2 + 1]和bitArr[num*2]设置为01，
如果第二次遇到就10，第三次或更多就11。再次遍历数组找出值为10的数即可。
